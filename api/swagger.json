{"swagger": "2.0", "basePath": "/", "paths": {"/api/v3/active-models": {"get": {"responses": {"500": {"description": "Internal Server Error. Possible error codes:\n- UNEXPECTED_ERROR", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "200": {"description": "OK", "schema": {"$ref": "#/definitions/ActiveModelsResponse"}}}, "operationId": "get_active_models", "tags": ["api/v3"]}}, "/api/v3/model-fields": {"get": {"responses": {"500": {"description": "Internal Server Error. Possible error codes:\n- UNEXPECTED_ERROR", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "200": {"description": "OK", "schema": {"$ref": "#/definitions/ModelFieldsResponse"}}}, "operationId": "get_model_fields", "tags": ["api/v3"]}}, "/api/v3/process-document": {"post": {"responses": {"500": {"description": "Internal Server Error. Possible error codes:\n- UNEXPECTED_ERROR", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "400": {"description": "Internal Server Error. Possible error codes:\n- INVALID_REQUEST_BODY\n- UNSUPPORTED_MODEL_METADATA_ID", "schema": {"$ref": "#/definitions/ErrorResponse"}}, "200": {"description": "OK", "schema": {"$ref": "#/definitions/ProcessDocumentResponse"}}}, "operationId": "post_process_document", "parameters": [{"name": "payload", "required": true, "in": "body", "schema": {"$ref": "#/definitions/ProcessDocumentRequest"}}], "tags": ["api/v3"]}}}, "info": {"title": "DOT OCR Server API Documentation", "version": "3.8.0"}, "produces": ["application/json"], "consumes": ["application/json"], "tags": [{"name": "api/v3", "description": "Endpoints"}], "definitions": {"ErrorResponse": {"required": ["errorCode"], "properties": {"errorCode": {"type": "string", "description": "Error code enum", "example": "INVALID_REQUEST_BODY", "enum": ["INVALID_REQUEST_BODY", "UNSUPPORTED_MODEL_METADATA_ID", "DOCUMENT_NOT_RECOGNIZED", "IMAGE_DECODE_FAILED", "UNEXPECTED_ERROR"]}, "errorMessage": {"type": "string", "description": "Error detailed description", "example": "Attribute 'name' is required."}}, "type": "object"}, "ActiveModelsResponse": {"required": ["models"], "properties": {"models": {"type": "array", "description": "An array of Model objects", "items": {"$ref": "#/definitions/Model"}}}, "type": "object"}, "Model": {"required": ["displayName", "modelMetadataId", "modelProperties", "pages"], "properties": {"modelProperties": {"type": "array", "description": "An array of ModelProperty objects", "items": {"$ref": "#/definitions/ModelProperty"}}, "modelMetadataId": {"type": "string", "description": "Model metadata identifier", "example": "fd3d8ded-7bfb-4cd6-8012-d88fffee6ee7"}, "displayName": {"type": "string", "description": "Name of the document", "example": "Slovak Identity Card"}, "pages": {"type": "array", "description": "An array of page identifiers", "example": ["front", "back"], "items": {"type": "string"}}}, "type": "object"}, "ModelProperty": {"required": ["key", "value"], "properties": {"key": {"type": "string", "description": "Key", "example": "country", "enum": ["country", "document_type", "edition_id", "machine_readable_travel_document"]}, "value": {"type": "string", "description": "Value", "example": "svk"}}, "type": "object"}, "ModelFieldsResponse": {"required": ["models"], "properties": {"models": {"type": "array", "description": "An array of ModelFields objects", "items": {"$ref": "#/definitions/ModelFields"}}}, "type": "object"}, "ModelFields": {"required": ["displayName", "modelMetadataId", "textFields"], "properties": {"modelMetadataId": {"type": "string", "description": "Model metadata identifier", "example": "fd3d8ded-7bfb-4cd6-8012-d88fffee6ee7"}, "displayName": {"type": "string", "description": "Name of the document", "example": "Slovak Identity Card"}, "textFields": {"type": "array", "description": "An array of TextFieldDefinition objects", "items": {"$ref": "#/definitions/TextFieldDefinition"}}, "imageFields": {"type": "array", "description": "An array of ImageFieldDefinition objects", "items": {"$ref": "#/definitions/ImageFieldDefinition"}}}, "type": "object"}, "TextFieldDefinition": {"required": ["id"], "properties": {"id": {"type": "string", "description": "Field identifier", "example": "surname"}, "label": {"type": "string", "description": "Field label printed on card (if present)", "example": "Surname"}}, "type": "object"}, "ImageFieldDefinition": {"required": ["id"], "properties": {"id": {"type": "string", "description": "Field identifier", "example": "primary_face"}}, "type": "object"}, "ProcessDocumentRequest": {"required": ["images"], "properties": {"images": {"type": "array", "description": "An array of Image objects", "items": {"$ref": "#/definitions/Image"}}, "textFields": {"type": "array", "description": "An array of requested text fields identifiers; If present only these fields are recognized from image, otherwise all supported fields are recognized", "example": ["surname", "given_names"], "items": {"type": "string"}}, "modelMetadataIds": {"type": "array", "description": "An array of model metadata IDs; required if \"modelProperties\" not present;", "example": ["fd3d8ded-7bfb-4cd6-8012-d88fffee6ee7", "24864b29-0e25-4bc3-874f-a341a596330d"], "items": {"type": "string"}}, "modelProperties": {"type": "array", "description": "An array of ModelProperty objects; required if \"modelMetadataIds\" not present; if \"modelMetadataIds\" is present this attribute is ignored;", "items": {"$ref": "#/definitions/ModelProperty"}}}, "type": "object"}, "Image": {"required": ["data", "name"], "properties": {"name": {"type": "string", "description": "Image identifier", "example": "front-side-image"}, "data": {"type": "string", "description": "Base64 encoded image", "example": "BASE64"}}, "type": "object"}, "ProcessDocumentResponse": {"required": ["pages"], "properties": {"pages": {"type": "array", "description": "An array of DocumentPage objects", "items": {"$ref": "#/definitions/DocumentPage"}}}, "type": "object"}, "DocumentPage": {"required": ["modelMetadataId", "name"], "properties": {"name": {"type": "string", "description": "Image identifier from request", "example": "front-side-image"}, "modelMetadataId": {"type": "string", "description": "Model metadata identifier", "example": "fd3d8ded-7bfb-4cd6-8012-d88fffee6ee7"}, "prediction": {"type": "string", "description": "Page identifier (only if document page recognized)", "example": "front"}, "normalizedImage": {"type": "string", "description": "Base64 encoded normalized image (only if document page recognized)", "example": "BASE64"}, "textFields": {"type": "array", "description": "An array of TextField objects (only if document page recognized)", "items": {"$ref": "#/definitions/TextField"}}, "imageFields": {"type": "array", "description": "An array of ImageField objects (only if document page recognized)", "items": {"$ref": "#/definitions/ImageField"}}, "errorName": {"type": "string", "description": "Error name (only if error occurs)", "example": "DOCUMENT_NOT_RECOGNIZED", "enum": ["DOCUMENT_NOT_RECOGNIZED", "IMAGE_DECODE_FAILED"]}}, "type": "object"}, "TextField": {"required": ["id", "lines"], "properties": {"id": {"type": "string", "description": "Text field identifier", "example": "surname"}, "lines": {"type": "array", "description": "An array of TextFieldLine objects", "items": {"$ref": "#/definitions/TextFieldLine"}}}, "type": "object"}, "TextFieldLine": {"required": ["confidence", "roi", "text"], "properties": {"text": {"type": "string", "description": "Recognized text value", "example": "Specimen"}, "confidence": {"type": "number", "description": "Recognition confidence", "example": 0.9648799300193787}, "roi": {"$ref": "#/definitions/Roi"}}, "type": "object"}, "Roi": {"required": ["height", "width", "x", "y"], "properties": {"x": {"type": "integer", "description": "X coordinate", "example": 339}, "y": {"type": "integer", "description": "Y coordinate", "example": 121}, "width": {"type": "integer", "description": "Width in pixels", "example": 337}, "height": {"type": "integer", "description": "Height in pixels", "example": 57}}, "type": "object"}, "ImageField": {"required": ["id", "roi"], "properties": {"id": {"type": "string", "description": "Image field identifier", "example": "primary_face"}, "roi": {"$ref": "#/definitions/Roi"}}, "type": "object"}}, "responses": {"ParseError": {"description": "When a mask can't be parsed"}, "MaskError": {"description": "When any error occurs on mask"}, "DotException": {}, "HTTPException": {}}}